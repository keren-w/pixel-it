(this["webpackJsonppixel-it"]=this["webpackJsonppixel-it"]||[]).push([[0],{31:function(e,t,n){e.exports=n.p+"static/media/Pixelit_svg.f3bf0b34.svg"},35:function(e,t,n){e.exports=n.p+"static/media/upload-icon.7c4eb3b9.svg"},36:function(e,t,n){e.exports=n.p+"static/media/upload.e86a473b.svg"},38:function(e,t,n){e.exports=n(50)},43:function(e,t,n){},50:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),i=n(29),o=n.n(i),c=(n(43),n(10)),u=n(5),l=n(4),s=n(31),d=n.n(s);function h(){var e=Object(u.a)(["\n    font-size: 32px;\n    color: ",";\n    width: 100%;\n    margin-top: 5px;\n    padding-left: 2rem;\n\n    img {\n        height: 25px;\n    }\n"]);return h=function(){return e},e}var f=function(e){return a.a.createElement(p,null,a.a.createElement("img",{src:d.a,alt:"Pixel It!"}))},p=l.b.div(h(),(function(e){return e.theme.logoColor})),m=n(35),g=n.n(m);function b(){var e=Object(u.a)(["\nmargin: 25px 0;\nwidth: 60%;\ndisplay: flex;\nflex-wrap: wrap;\njustify-content: center;\nalign-items: baseline;\n\nlabel, button {\n    position: relative;\n    font-size: 1.15em;  \n    background-color: ",";\n    color: white;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    border-radius: 5px;\n    box-shadow: rgba(0,0,0,0.2) -1px 22px 20px 2px;\n    border: none;\n    margin: 0;\n    height: 5.5rem;\n    width: 14rem;\n\n    &:hover !&[disabled] {\n        background-color: rgba(7,7,7,0.2);\n    }\n    &:focus {\n        outline: none;\n    }\n    &[disabled] {\n        color: rgba(255,255,255,.2);\n        box-shadow: rgba(0,0,0,.6) 2px 2px 6px;\n    }\n}\n\ninput {\n    width: 100%;\n    height: 100%;\n    top: 0;\n    left: 0;\n    opacity: 0;\n    position: absolute;\n}\n"]);return b=function(){return e},e}var v=l.b.div(b(),(function(e){return e.theme.buttonColor})),w=n(36),x=n.n(w);function E(){var e=Object(u.a)(["\n\tmargin-top: 1rem;\n\tcolor: white;\n\tfont-size: 0.85rem;\n\tmargin-left: 1.5rem;\n"]);return E=function(){return e},e}function O(){var e=Object(u.a)(["\n\tborder: 2px solid ",";\n\tborder-radius: 8px;\n    height: 70%;\n    width: 100%;\n\tdisplay: flex;\n\tflex-direction: column;\n\talign-items: center;\n\tmargin-bottom: 6rem;\n\n\timg {\n\t\twidth: 88px;\n\t\theight: calc(50% - 2rem);\n    \tmargin-top: 2rem;\n}\n"]);return O=function(){return e},e}function j(){var e=Object(u.a)(["\n\tmargin: 0;\n\tflex: 1;\n\talign-items: center;\n\t#photo-input {\n\t\twidth: 100%;\n\t\theight: 100%;\n\t\ttop: 0;\n\t\tleft: 0;\n\t\topacity: 0;\n\t\tposition: absolute;\n\t}\n"]);return j=function(){return e},e}var y=function(e){var t=e.name,n=e.hideUploaderButton,r=e.children;return n?r():a.a.createElement(S,null,a.a.createElement(M,null,a.a.createElement("img",{src:x.a,alt:"Upload"}),a.a.createElement("label",{htmlFor:"file"},"Upload",r()),t&&a.a.createElement(z,null,t)))},S=Object(l.b)(v)(j()),M=l.b.div(O(),(function(e){return e.theme.borderColor})),z=l.b.span(E());function I(){var e=Object(u.a)(["\n\tdisplay: flex;\n    align-items: center; \n\tposition: relative;\n\timg {\n        height: 20px;\n\t}\n\tspan {\n\t\tmargin-left: 10px;\n\t}\n\tinput {\n\t\twidth: 100%;\n\t\theight: 100%;\n\t\ttop: 0;\n\t\tleft: 0;\n\t\topacity: 0;\n\t\tposition: absolute;\n\t}\n"]);return I=function(){return e},e}var T=function(e){var t=e.name,n=e.handlePhotoUpload,i=e.setShowToaster,o=e.hideUploaderButton,c=Object(r.useRef)(null),u=function(e){var t=e.target,r=t.files,a=t.accept,o=r.length>0&&r[0],c=function(e,t){var n=e.type,r=e.size;return n&&n!==t?{isValid:!1,message:"Please select only files of type ".concat(t)}:r&&r>2097152?{isValid:!1,message:"please upload a file below 2 MB"}:{isValid:!0,message:""}}(o,a),u=c.isValid,l=c.message;u?o&&n(o):(i(l),e.target.value=null)},l=function(){return a.a.createElement("input",{className:"user-file",ref:c,id:"photo-input",type:"file",accept:"image/jpeg",onInput:u})};return a.a.createElement(y,{name:t,hideUploaderButton:o},(function(){return o?a.a.createElement(P,null,a.a.createElement("img",{src:g.a,alt:"Upload"}),a.a.createElement("span",null,"Upload"),l()):l()}))},P=l.b.div(I()),D="MODULES/IMAGE_VIEW/PHOTO_UPLOADED",k="MODULES/PHOTO_VIEWER/SHOW_TOASTER",U="MODULES/PHOTO_VIEWER/TOASTER_DISMISSED",C=function(e){return e.uploadedPhoto},R=function(e){return C(e).name},L=function(e){return C(e).file},_={handlePhotoUpload:function(e){return{type:D,payload:e}},setShowToaster:function(e){return{type:k,payload:e}}},A=Object(c.a)((function(e,t){return{name:R(e),hideUploaderButton:t.hideUploaderButton||!1}}),_)(T),H=n(12);function B(){var e=Object(u.a)(["\nbutton {\n\theight: 4rem;\n}"]);return B=function(){return e},e}function V(){var e=Object(u.a)(["\n\twidth: 100%;\n\tdisplay: flex;\n\tflex-direction: column;\n\talign-items: center;\n\tvisibility: ","\n"]);return V=function(){return e},e}var W=function(e){var t=e.isHidden,n=e.pixelizerClicked;return a.a.createElement(X,{isHidden:t},a.a.createElement(G,null,a.a.createElement("button",{disabled:!1,className:"pixelizer",onClick:n},"Pixel it!")))},X=l.b.div(V(),(function(e){return e.isHidden?"hidden":"visible"})),G=Object(l.b)(v)(B()),N="MODULES/PIXELIZER/UPDATE_RENDER_TYPE",Z=function(e){return{type:N,payload:e}},F={pixelizerClicked:function(e){return{type:"MODULES/PIXELIZER/PIXELIZER_ACTIVATED"}}},J=Object(c.a)((function(e){return{}}),F)(W),q="PHOTO_VIEW",Q="PIXELED",Y=n(24),$=n(25),K=function(){function e(t,n,r,a){Object(Y.a)(this,e),this.height=t,this.width=t,this.color=a,this.x=n,this.y=r}return Object($.a)(e,[{key:"draw",value:function(e){e.beginPath(),e.fillStyle=this.color,e.fillRect(this.x,this.y,this.width,this.height),e.stroke()}}]),e}(),ee=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;Object(Y.a)(this,e),this.getImagePixelizedArray=function(){var e,n,r=[];for(e=0;e<t.width;e+=t.pixelSize){var a=[];for(n=0;n<t.height;n+=t.pixelSize){var i=t.calculatePixel(e,n);a.push(i)}r.push(a)}return r},this.calculatePixel=function(e,n){var r,a,i={red:0,green:0,blue:0,alpha:0};for(r=0;r<t.pixelSize;++r)for(a=0;a<t.pixelSize;++a)i.red+=t.imageData.data[4*(t.width*n+e)],i.green+=t.imageData.data[4*(t.width*n+e)+1],i.blue+=t.imageData.data[4*(t.width*n+e)+2],i.alpha+=t.imageData.data[4*(t.width*n+e)+3];return i.red=i.red/Math.pow(t.pixelSize,2),i.green=i.green/Math.pow(t.pixelSize,2),i.blue=i.blue/Math.pow(t.pixelSize,2),i.alpha=i.alpha/Math.pow(t.pixelSize,2),i="rgba(".concat(i.red,",").concat(i.green,",").concat(i.blue,",").concat(i.alpha,")"),new K(t.pixelSize,e,n,i)},this.drawPixeledImagefromArray=function(e,n){e.clearRect(0,0,t.width,t.height),n.forEach((function(t){t.forEach((function(t){t.draw(e)}))}))},this.bitmapImg=n,this.width=a,this.height=r,this.pixelSize=25,n&&r&&a&&i&&createImageBitmap(n,{resizeHeight:r,resizeWidth:a,resizeQuality:"high"}).then((function(e){t.imageData=i.getImageData(0,0,e.width,e.height)}))}return Object($.a)(e,[{key:"renderPixeledImage",value:function(e,t,n,r){var a=t.pixelSize;if(a&&a!==this.pixelSize&&(this.pixelSize=a),this.imageData){var i=this.getImagePixelizedArray();this.drawPixeledImagefromArray(e,i,n,r)}}}]),e}(),te=null,ne=null,re=null,ae={imageMeasures:{height:0,width:0},slider:{arrowSize:20,borderSize:1,sliderHypotenuse:Math.sqrt(2*Math.pow(20,2)),separatorLeft:9.5},transition:null,backgroundGradientLight:"#603675",backgroundGradientDark:"#0C070F",logoColor:"#A14ACB",buttonColor:"#5f1782",borderColor:"#280a37"};function ie(){var e=Object(u.a)(["\n    display: flex;\n    align-items: center; \n    height: 25px;\n    font-size: 15px;\n    \n    &:first-child {\n        padding-right: 25px;\n        border-right: 1px solid ",";\n        span {\n            opacity: 0.32;\n        }\n    }\n    &:not(:first-child) {\n        padding-left: 25px;\n    }\n    ","\n"]);return ie=function(){return e},e}function oe(){var e=Object(u.a)(["\n    width: 100%;\n    color: white;\n    display: flex;\n    justify-content: center;\n    margin-bottom: 10px;\n"]);return oe=function(){return e},e}var ce=function(e){var t=e.name;return a.a.createElement(ue,null,a.a.createElement(le,null,a.a.createElement("span",null,t)),a.a.createElement(le,null,a.a.createElement(A,{hideUploaderButton:!0})))},ue=l.b.div(oe()),le=l.b.div(ie(),(function(e){return e.theme.logoColor}),(function(e){return e.onClick?"cursor: pointer;":""}));function se(){var e=Object(u.a)(["\n    height: 100%;\n"]);return se=function(){return e},e}function de(){var e=Object(u.a)([""]);return de=function(){return e},e}var he=function(e){var t=e.src;return a.a.createElement(fe,{id:"photo-input"},a.a.createElement(pe,{src:t}))},fe=l.b.div.attrs((function(e){return{id:e.id,style:{height:"".concat(e.theme.imageMeasures.height,"px"),width:"".concat(e.theme.sliderPosition,"px"),transition:e.theme.transition,position:"absolute",top:0,left:0,overflow:"hidden",zIndex:1}}}))(de()),pe=l.b.img(se());function me(){var e=Object(u.a)(["\n    top: unset;\n    bottom: 0;\n"]);return me=function(){return e},e}function ge(){var e=Object(u.a)(["\n    width: ","px;\n    background-color: white;\n    height: ","px;\n    left: ","px;\n    position: absolute;\n    top: 0;\n"]);return ge=function(){return e},e}function be(){var e=Object(u.a)(["\n    height: ","px;\n    width: 100%;\n    border: ","px solid white;\n    position: absolute;\n    top: ","px; /* offset between two elements*/\n    left: 0;\n    transform: rotate(45deg);\n"]);return be=function(){return e},e}function ve(){var e=Object(u.a)([""]);return ve=function(){return e},e}var we=function(e){var t=e.onMouseDown;return a.a.createElement(xe,{draggable:!0,onDragStart:function(e){return e.preventDefault()},onMouseDown:t},a.a.createElement(Oe,null),a.a.createElement(Ee,null),a.a.createElement(je,null))},xe=l.b.span.attrs((function(e){return{style:{height:"".concat(e.theme.imageMeasures.height,"px"),width:"".concat(e.theme.slider.arrowSize,"px"),position:"absolute",top:0,left:"".concat(e.theme.sliderPosition-e.theme.slider.arrowSize/2,"px"),cursor:" col-resize",zIndex:2}}}))(ve()),Ee=l.b.span(be(),(function(e){return e.theme.slider.arrowSize}),(function(e){return e.theme.slider.borderSize}),(function(e){var t=e.theme;return t.imageMeasures.height/2-t.slider.arrowSize/2})),Oe=l.b.div(ge(),(function(e){return e.theme.slider.borderSize}),(function(e){var t=e.theme;return t.imageMeasures.height/2-t.slider.sliderHypotenuse/2}),(function(e){return e.theme.slider.separatorLeft})),je=Object(l.b)(Oe)(me());function ye(){var e=Object(u.a)(["\n    width: ",";\n    height: ",";\n\tposition: relative;\n"]);return ye=function(){return e},e}function Se(){var e=Object(u.a)(["\n\tflex: 1;\n\theight: 100%;\n\twidth: 100%;\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n\tvisibility: ",";\n\tcanvas {\n\t\tposition: absolute;\n\t\ttop: 0;\n\t}\n"]);return Se=function(){return e},e}var Me=function(e){var t=e.showLoader,n=e.showSlider,i=e.imageSource,o=e.forwardRef,c=e.canvasElement,u=Object(r.useState)(0),l=Object(H.a)(u,2),s=l[0],d=l[1],h=Object(r.useState)(!1),f=Object(H.a)(h,2),p=f[0],m=f[1],g=Object(r.useState)(null),b=Object(H.a)(g,2),v=b[0],w=b[1];Object(r.useEffect)((function(){d(0)}),[i]),Object(r.useEffect)((function(){ae.sliderPosition=s}),[s]),Object(r.useEffect)((function(){return function(){window.clearTimeout(v)}}),[v]);var x=function(e,t,n){return e<t?t:e>n?n:e},E=function(e){ae.transition="width ".concat(100,"ms"),w(window.setTimeout((function(){ae.transition=null,w(null)}),100))},O=function(e){p||m(!0)},j=function(e){e.preventDefault(),p&&m(!1)},y=function(e,t){p&&function(e,t){var n=e.pageX-c.getBoundingClientRect().left,r=x(n,0,ae.imageMeasures.width);d(r),t&&E(t)}(e,t)};return a.a.createElement(ze,{showContent:!t,onMouseUp:j,onTouchEnd:j,onMouseEnter:function(e){1!==e.buttons&&j(e)},onMouseMove:function(e){return y(e,!0)},onTouchMove:function(e){return y(e,!0)}},a.a.createElement(Ie,null,n&&a.a.createElement(we,{onMouseDown:O,onTouchStart:O}),a.a.createElement(he,{src:i}),a.a.createElement("canvas",{ref:o,id:"pixelized-output"})))},ze=l.b.div(Se(),(function(e){return e.showContent?"visible":"hidden"})),Ie=l.b.div(ye(),(function(e){var t=e.theme;return t.imageMeasures.width?"".concat(t.imageMeasures.width,"px"):"100%"}),(function(e){var t=e.theme;return t.imageMeasures.height?"".concat(t.imageMeasures.height,"px"):"100%"}));function Te(){var e=Object(u.a)(["\n\tcolor:white;\n\tfont-size:24px;\n"]);return Te=function(){return e},e}function Pe(){var e=Object(u.a)(["\ndisplay: flex;\nflex-direction: column;\nalign-items: center;\nflex: 1;\nwidth: 70%;\n"]);return Pe=function(){return e},e}var De=function(e){var t=e.file,n=e.name,i=e.showSlider,o=e.renderConfig,c=Object(r.useRef)(null),u=Object(r.useState)(null),l=Object(H.a)(u,2),s=l[0],d=l[1],h=Object(r.useState)(null),f=Object(H.a)(h,2),p=f[0],m=f[1],g=Object(r.useState)(!1),b=Object(H.a)(g,2),v=b[0],w=b[1];Object(r.useEffect)((function(){var e,t=c.current;d(t),ne=e=t,te=e.getContext("2d")}),[c]),Object(r.useEffect)((function(){ae.imageMeasures.width=ae.imageMeasures.height=null,x()}),[t,x]),Object(r.useEffect)((function(){x()}),[o,s,x]);var x=Object(r.useCallback)((function(){t&&s&&(w(!0),createImageBitmap(t).then((function(e){var t=s.parentElement,n=function(e,t,n){var r=e.width,a=e.height,i=a>=r,o=parseInt(n/r*a),c=parseInt(t/a*r),u={height:t,width:c},l={height:o,width:n};return i&&c>n?l:!i&&o>t?u:i&&u||l}(e,t.offsetHeight,t.offsetWidth);ae.imageMeasures=n,function(e,t,n){var r=n.renderType,a=n.renderParams,i=e.height,o=e.width;switch(r){case Q:re&&re.renderPixeledImage(te,a);break;case q:default:ne.height=i,ne.width=o,te.clearRect(0,0,ne.width,ne.height),te.drawImage(t,0,0,o,i),re=new ee(t,i,o,te)}}(n,e,o),E()})))}),[s,t,E,o]),E=Object(r.useCallback)((function(){var e=new FileReader;e.readAsDataURL(t),e.onload=function(e){e.target.result!==p&&m(e.target.result),w(!1)}}),[t,p]);return a.a.createElement(ke,null,a.a.createElement(ce,{name:n})," ",v&&a.a.createElement(Ue,null,"loading..."),a.a.createElement(Me,{showLoader:v,showSlider:i,imageSource:p,forwardRef:c,canvasElement:s}),a.a.createElement(J,{isHidden:!t}))},ke=l.b.div(Pe()),Ue=l.b.div(Te()),Ce=function(e){return function(e){return e.renderConfig}(e)},Re=function(e){return Ce(e).renderType!==q},Le=Object(c.a)((function(e){return{name:R(e),file:L(e),renderConfig:Ce(e),showSlider:Re(e)}}),{})(De);function _e(){var e=Object(u.a)(["\n    position: absolute;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    background: rgba(0,0,0,0.5);\n"]);return _e=function(){return e},e}var Ae=function(e){var t=e.message,n=e.dismissToaster;return Object(r.useEffect)((function(){window.alert(t),n()}),[t,n]),a.a.createElement(He,null)},He=l.b.div(_e());function Be(){var e=Object(u.a)(["\n    background: ",";\n    height: 100vh;\n    height: calc(var(--vh, 1vh) * 100);\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n"]);return Be=function(){return e},e}var Ve=function(e){var t=e.showToaster,n=e.toasterMessage,r=e.dismissToaster,i=e.displayUploader,o=.01*window.innerHeight;return document.documentElement.style.setProperty("--vh","".concat(o,"px")),a.a.createElement(l.a,{theme:ae},a.a.createElement(We,null,a.a.createElement(f,null),i?a.a.createElement(A,null):a.a.createElement(Le,null),t&&a.a.createElement(Ae,{message:n,dismissToaster:r})))},We=l.b.div(Be(),(function(e){var t=e.theme;return"transparent linear-gradient(201deg, ".concat(t.backgroundGradientLight," 0%, ").concat(t.backgroundGradientDark," 100%) 0% 0% no-repeat padding-box")})),Xe=function(e){return e.app},Ge=function(e){return Xe(e).showToaster},Ne=function(e){return Xe(e).toasterMessage},Ze=function(e){return Xe(e).displayUploader},Fe={dismissToaster:function(){return{type:U}}},Je=Object(c.a)((function(e){return{showToaster:Ge(e),toasterMessage:Ne(e),displayUploader:Ze(e)}}),Fe)(Ve);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var qe=n(8),Qe=n(37),Ye=n(6),$e={file:null,name:""},Ke=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$e,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case D:return Object(Ye.a)(Object(Ye.a)({},e),{},{file:t.payload,name:t.payload.name||$e.name});case U:return Object(Ye.a)({},e);default:return e}},et={showToaster:!1,toasterMessage:"",displayUploader:!0},tt={renderType:q,renderParams:{}},nt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case D:return tt;case N:return Object(Ye.a)(Object(Ye.a)({},e),{},{renderType:t.payload});default:return e}},rt=Object(qe.c)({app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:et,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case k:var n=t.payload;return Object(Ye.a)(Object(Ye.a)({},e),{},{showToaster:!0,toasterMessage:n});case U:return Object(Ye.a)(Object(Ye.a)({},e),{},{showToaster:!1,toasterMessage:""});case D:return Object(Ye.a)(Object(Ye.a)({},e),{},{displayUploader:!1});default:return e}},uploadedPhoto:Ke,renderConfig:nt}),at=n(11),it=n.n(at),ot=n(13),ct=it.a.mark(lt),ut=it.a.mark(st);function lt(e){var t,n;return it.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ot.c)(Ce);case 2:if(t=e.sent,(n=t.renderType)!==q){e.next=9;break}return e.next=7,Object(ot.b)(Z(Q));case 7:e.next=11;break;case 9:return e.next=11,Object(ot.b)(Z(n));case 11:case"end":return e.stop()}}),ct)}function st(){return it.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ot.a)([Object(ot.d)("MODULES/PIXELIZER/PIXELIZER_ACTIVATED",lt)]);case 2:case"end":return e.stop()}}),ut)}var dt=it.a.mark(ht);function ht(){return it.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ot.a)([st()]);case 2:case"end":return e.stop()}}),dt)}var ft=Object(Qe.a)(),pt=[ft],mt=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||qe.d,gt=Object(qe.e)(rt,mt(qe.a.apply(void 0,pt)));ft.run(ht);var bt=gt,vt=n(18);o.a.render(a.a.createElement(vt.a,{store:bt},a.a.createElement(Je,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[38,1,2]]]);
//# sourceMappingURL=main.af943dfa.chunk.js.map