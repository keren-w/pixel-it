{"version":3,"sources":["assets/images/Pixelit_svg.svg","assets/images/upload.svg","assets/images/upload-icon.svg","modules/Header/Header.js","modules/common/styles.js","modules/UploaderView/components/UploaderInput.js","modules/UploaderView/data/validator.js","modules/UploaderView/components/UploaderView.js","modules/App/data/actions.js","modules/ImageView/data/selectors.js","modules/UploaderView/components/PhotoUploaderContainer.js","modules/ImageView/data/actions.js","modules/Pixelizer/components/Pixelizer.js","modules/Pixelizer/data/actions.js","modules/Pixelizer/components/PixelizerContainer.js","modules/ImageView/components/OriginalImage.js","modules/ImageView/components/Slider.js","modules/Pixelizer/data/constants.js","modules/ImageView/components/viewerRenderServices/pixelizedViewService.js","modules/ImageView/components/viewerRenderServices/canvasService.js","modules/common/theme.js","modules/ImageView/components/ImageTitleBar.js","modules/ImageView/components/PhotoViewer.js","modules/Pixelizer/data/selectors.js","modules/Pixelizer/data/computedSelectors.js","modules/ImageView/components/PhotoViewerContainer.js","modules/App/components/Toaster.js","modules/App/components/App.js","modules/App/data/selectors.js","modules/App/components/AppContainer.js","serviceWorker.js","modules/ImageView/data/reducer.js","modules/App/data/reducer.js","modules/Pixelizer/data/reducer.js","store/reducer.js","modules/Pixelizer/data/saga.js","store/saga.js","store/store.js","index.js"],"names":["module","exports","__webpack_require__","p","Header","props","react_default","a","createElement","HeaderWrapper","src","logo","alt","styled","div","_templateObject","_ref","theme","logoColor","ButtonWrapper","styles_templateObject","buttonColor","UploaderInput","handlePhotoUpload","setShowToaster","hideUploaderButton","inputRef","useRef","checkInput","e","_e$target","target","files","accept","file","length","validationResult","type","size","isValid","message","concat","getPhotoInputValidationResult","value","getUploaderInput","className","ref","id","onInput","ButtonlessWrapper","uploadIcon","UploaderInput_templateObject","PhotoUploader","name","components_UploaderInput","UploderWrapper","UploaderFrame","uploadSymbol","htmlFor","FileName","UploaderView_templateObject","_templateObject2","borderColor","span","_templateObject3","DISMISS_TOASTER","get","state","uploadedPhoto","getPhotoName","getPhotoFile","mapDispatchToProps","photoDetails","payload","toasterMessage","PhotoUploaderContainer","connect","UploaderView","Pixelizer","isHidden","pixelizerClicked","Wrapper","PixelitButtonWrapper","disabled","onClick","Pixelizer_templateObject","Pixelizer_templateObject2","PIXELIZER_ACTIVATED","updateRenderType","newType","PixelizerContainer","OriginalImage","ImageWrapper","Image","attrs","style","height","imageMeasures","width","sliderPosition","transition","position","top","left","overflow","zIndex","OriginalImage_templateObject","img","OriginalImage_templateObject2","Slider","onMouseDown","forwardRef","SliderWrapper","draggable","onDragStart","preventDefault","TopSeperator","Arrow","BottomSeperator","slider","arrowSize","cursor","Slider_templateObject","Slider_templateObject2","_ref2","borderSize","_ref3","Slider_templateObject3","_ref4","_ref5","sliderHypotenuse","_ref6","separatorLeft","_templateObject4","RENDER_TYPE","DEFAULT","PIXELED","DEFAULT_PIXEL_SIZE","Pixel","x","y","color","Object","classCallCheck","this","ctx","beginPath","fillStyle","fillRect","stroke","PixeledImage","_this","bitmapImg","arguments","undefined","getImagePixelizedArray","pixelizedImg","pixelSize","newColumn","pixel","calculatePixel","push","i","j","pixelColor","red","green","blue","alpha","imageData","data","Math","pow","drawPixeledImagefromArray","pixeledArray","clearRect","forEach","column","draw","createImageBitmap","resizeHeight","resizeWidth","resizeQuality","then","resizedImage","getImageData","createClass","key","canvasWidth","canvasHeight","pixelsArray","canvasElement","currentPixeledImage","sqrt","SLIDER_ARROW_SIZE","backgroundGradientLight","backgroundGradientDark","ImageTitleBar","ImageTitleBar_Wrapper","ActionWrapper","components_PhotoUploaderContainer","ImageTitleBar_templateObject","ImageTitleBar_templateObject2","PhotoViewer","showSlider","renderConfig","canvasRef","sliderRef","_useState","useState","_useState2","slicedToArray","setCanvasElement","_useState3","_useState4","imageSource","setImageSource","_useState5","_useState6","showLoader","setShowLoader","_useState7","_useState8","setSliderPosition","_useState9","_useState10","isMouseDown","setIsMouseDown","_useState11","_useState12","transitionTimer","setTransitionTimer","useEffect","canvasEl","current","getContext","renderImage","window","clearTimeout","_canvasElement$parent","parentElement","isPortaitOrientation","scaledImageHeight","parseInt","scaledimageWidth","calculatedPortraitSize","calculatedLandscapeSize","canvasService","offsetHeight","offsetWidth","renderType","renderParams","renderPixeledImage","drawImage","getImageProps","reader","FileReader","readAsDataURL","onload","result","inBetween","actual","min","max","setSliderTransition","setTimeout","stopDrag","onDrag","currentX","pageX","getBoundingClientRect","moveTo","updateSilderPosition","PhotoViewer_Wrapper","components_ImageTitleBar","Loader","ViewerFlexWrapper","showContent","onMouseUp","onMouseEnter","buttons","onMouseMove","ViewerSizeWrapper","components_Slider","components_OriginalImage","components_PixelizerContainer","PhotoViewer_templateObject","PhotoViewer_templateObject2","PhotoViewer_templateObject3","PhotoViewer_templateObject4","getRenderConfig","getShowSlider","selectors","PhotoViewerContainer","Toaster","dismissToaster","alert","Backdrop","Toaster_templateObject","App","showToaster","displayUploader","styled_components_browser_esm","AppWrapper","modules_Header_Header","components_PhotoViewerContainer","Toaster_Toaster","App_templateObject","app","getShowToaster","getToasterMessage","getShouldDisplayUploader","AppContainer","Boolean","location","hostname","match","defaultState","action","objectSpread","appActions","combineReducers","actions","photoDetailsReducer","handlePixerlizerActivated","saga","regenerator_default","wrap","_context","prev","next","select","sent","put","pixelizerActions","stop","_marked","_context2","all","takeLatest","_marked2","pixelizerSaga","saga_marked","sagaMiddleware","createSagaMiddleware","middlewares","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","rootReducer","applyMiddleware","apply","run","rootSaga","ReactDOM","render","Provider","components_AppContainer","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.0dcb00ac.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/Pixelit_svg.f3bf0b34.svg\";","module.exports = __webpack_public_path__ + \"static/media/upload.e86a473b.svg\";","module.exports = __webpack_public_path__ + \"static/media/upload-icon.7c4eb3b9.svg\";","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport logo from \"../../assets/images/Pixelit_svg.svg\";\r\n\r\nconst Header = (props) => {\r\n    return (\r\n        <HeaderWrapper>\r\n            <img src={logo} alt={'Pixel It!'}/>\r\n        </HeaderWrapper>\r\n    );\r\n};\r\n\r\nexport default Header;\r\n\r\nconst HeaderWrapper = styled.div`\r\n    font-size: 32px;\r\n    color: ${({theme}) => theme.logoColor};\r\n    width: 100%;\r\n    margin-top: 5px;\r\n    padding-left: 2rem;\r\n\r\n    img {\r\n        height: 25px;\r\n    }\r\n`;","import styled from 'styled-components';\r\n\r\nexport const ButtonWrapper = styled.div `\r\nmargin: 25px 0;\r\nwidth: 60%;\r\ndisplay: flex;\r\nflex-wrap: wrap;\r\njustify-content: center;\r\nalign-items: baseline;\r\n\r\nlabel, button {\r\n    position: relative;\r\n    font-size: 1.15em;  \r\n    background-color: ${({theme}) => theme.buttonColor};\r\n    color: white;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    border-radius: 5px;\r\n    box-shadow: rgba(0,0,0,0.2) -1px 22px 20px 2px;\r\n    border: none;\r\n    margin: 0;\r\n    height: 5.5rem;\r\n    width: 14rem;\r\n\r\n    &:hover !&[disabled] {\r\n        background-color: rgba(7,7,7,0.2);\r\n    }\r\n    &:focus {\r\n        outline: none;\r\n    }\r\n    &[disabled] {\r\n        color: rgba(255,255,255,.2);\r\n        box-shadow: rgba(0,0,0,.6) 2px 2px 6px;\r\n    }\r\n}\r\n\r\ninput {\r\n    width: 100%;\r\n    height: 100%;\r\n    top: 0;\r\n    left: 0;\r\n    opacity: 0;\r\n    position: absolute;\r\n}\r\n`;","import React, {useRef} from 'react';\r\nimport styled from \"styled-components\";\r\nimport uploadIcon from \"../../../assets/images/upload-icon.svg\";\r\nimport {getPhotoInputValidationResult} from \"../data/validator\";\r\n\r\nconst UploaderInput = (props) => {\r\n\tconst {handlePhotoUpload, setShowToaster, hideUploaderButton} = props\r\n\tconst inputRef = useRef(null);\r\n\r\n\tconst checkInput = (e) => {\r\n\t\tconst {files, accept} = e.target;\r\n\t\tconst file = files.length > 0 && files[0];\r\n\r\n\t\tconst validationResult = getPhotoInputValidationResult(file, accept);\r\n\t\tconst {isValid, message} = validationResult;\r\n\r\n\t\tif (!isValid) {\r\n\t\t\t\t\t\tsetShowToaster(message);\r\n\t\t\t\t\t\te.target.value = null; // nullify input so to revalidate onChange\r\n\t\t} else if (file) {\r\n\t\t\t\t\t\thandlePhotoUpload(file);\r\n\t\t}\r\n\t}\r\n\r\n\tconst getUploaderInput = () => (<input\r\n\t\tclassName=\"user-file\"\r\n\t\tref={inputRef}\r\n\t\tid=\"photo-input\"\r\n\t\ttype=\"file\"\r\n\t\taccept=\"image/jpeg\"\r\n\t\tonInput={checkInput}/>);\r\n\t\t\t\r\n\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\thideUploaderButton ? \r\n\t\t\t\t\t\t\t<ButtonlessWrapper> \r\n\t\t\t\t\t\t\t\t<img src={uploadIcon} alt={'Upload'}/>\r\n\t\t\t\t\t\t\t\t<span>Upload</span>\r\n\t\t\t\t\t\t\t\t{getUploaderInput()}\r\n\t\t\t\t\t\t\t</ButtonlessWrapper>\r\n\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\tgetUploaderInput()\r\n\t\t\t\t\t\t);\r\n}\r\n\r\nexport default UploaderInput;\r\n\r\nconst ButtonlessWrapper = styled.div`\r\n\tdisplay: flex;\r\n    align-items: center; \r\n\tposition: relative;\r\n\timg {\r\n        height: 20px;\r\n\t}\r\n\tspan {\r\n\t\tmargin-left: 10px;\r\n\t}\r\n\tinput {\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t\ttop: 0;\r\n\t\tleft: 0;\r\n\t\topacity: 0;\r\n\t\tposition: absolute;\r\n\t}\r\n`;","const TOP_LIMIT_SIZE = 2097152;\r\n\r\nexport const getPhotoInputValidationResult = (file, accept) => {\r\n    const {type, size} = file;\r\n\r\n    if (type && type !== accept) {\r\n        //throw error wrong file type\r\n        return {isValid: false, message: `Please select only files of type ${accept}`}\r\n    }\r\n\r\n    if (size && size > TOP_LIMIT_SIZE) {\r\n        // throw error large file\r\n        return {isValid: false, message: 'please upload a file below 2 MB'};\r\n    }\r\n\r\n    return {isValid: true, message: ''}\r\n}","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport {ButtonWrapper} from \"../../common/styles\";\r\nimport uploadSymbol from \"../../../assets/images/upload.svg\";\r\nimport UploaderInput from \"./UploaderInput\";\r\n\r\nconst PhotoUploader = (props) => {\r\n\t\t\t\tconst {name, hideUploaderButton} = props;\r\n\t\t\t\treturn ( hideUploaderButton ?\r\n\t\t\t\t\t<UploaderInput {...props} /> :\r\n\t\t\t\t\t<UploderWrapper>\r\n\t\t\t\t\t\t\t<UploaderFrame>\r\n\t\t\t\t\t\t\t\t\t<img src={uploadSymbol} alt={'Upload'}/>\r\n\t\t\t\t\t\t\t\t\t<label htmlFor=\"file\">Upload\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<UploaderInput {...props} />\r\n\t\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t\t{name && <FileName>{name}</FileName>}\r\n\t\t\t\t\t\t\t</UploaderFrame>\r\n\t\t\t\t\t</UploderWrapper>\r\n\t\t\t\t);\r\n}\r\n\r\nexport default PhotoUploader;\r\n\r\nconst UploderWrapper = styled(ButtonWrapper)`\r\n\tmargin: 0;\r\n\tflex: 1;\r\n\talign-items: center;\r\n\t#photo-input {\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t\ttop: 0;\r\n\t\tleft: 0;\r\n\t\topacity: 0;\r\n\t\tposition: absolute;\r\n\t}\r\n`;\r\n\r\nconst UploaderFrame = styled.div`\r\n\tborder: 2px solid ${({theme}) => theme.borderColor};\r\n\tborder-radius: 8px;\r\n    height: 70%;\r\n    width: 100%;\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\talign-items: center;\r\n\tmargin-bottom: 6rem;\r\n\r\n\timg {\r\n\t\twidth: 88px;\r\n\t\theight: calc(50% - 2rem);\r\n    \tmargin-top: 2rem;\r\n}\r\n`;\r\n\r\nconst FileName = styled.span `\r\n\tmargin-top: 1rem;\r\n\tcolor: white;\r\n\tfont-size: 0.85rem;\r\n\tmargin-left: 1.5rem;\r\n`;","export const SHOW_TOASTER = 'MODULES/PHOTO_VIEWER/SHOW_TOASTER';\r\nexport const DISMISS_TOASTER = 'MODULES/PHOTO_VIEWER/TOASTER_DISMISSED';\r\n\r\n/**\r\n * Calls action when a valid photo was uploaded\r\n */\r\nexport const setShowToaster = (toasterMessage) => ({\r\n    type: SHOW_TOASTER,\r\n    payload: toasterMessage\r\n});\r\n\r\nexport const dismissToaster = () => ({\r\n    type: DISMISS_TOASTER\r\n});","const get = state => state.uploadedPhoto;\r\n\r\nexport const getPhotoName = state => get(state).name;\r\nexport const getPhotoFile = state => get(state).file;\r\n","import {connect} from 'react-redux';\r\nimport UploaderView from './UploaderView'\r\nimport {handlePhotoUpload} from \"../../ImageView/data/actions\";\r\nimport {setShowToaster} from \"../../App/data/actions\";\r\nimport {getPhotoName} from \"../../ImageView/data/selectors\";\r\n\r\nconst mapStateToProps = (state, props) => ({\r\n    name: getPhotoName(state),\r\n    hideUploaderButton: props.hideUploaderButton || false,\r\n});\r\n\r\nconst mapDispatchToProps = ({\r\n    handlePhotoUpload,\r\n    setShowToaster\r\n});\r\n\r\nconst PhotoUploaderContainer = connect(\r\n    mapStateToProps,\r\n    mapDispatchToProps\r\n)(UploaderView);\r\n\r\nexport default PhotoUploaderContainer;\r\n\r\n\r\n\r\n\r\n","export const HANDLE_PHOTO_UPLOADED = 'MODULES/IMAGE_VIEW/PHOTO_UPLOADED';\r\n\r\n/**\r\n * Calls action when a valid photo was uploaded\r\n */\r\nexport const handlePhotoUpload = photoDetails => ({\r\n    type: HANDLE_PHOTO_UPLOADED,\r\n    payload: photoDetails,\r\n});","import React from 'react';\r\nimport styled from \"styled-components\";\r\nimport {ButtonWrapper} from \"../../common/styles\";\r\n\r\nconst Pixelizer = (props) => {\r\n\t\tconst {isHidden, pixelizerClicked} = props;\r\n\t\treturn (\r\n\t\t\t\t<Wrapper isHidden={isHidden}>\r\n\t\t\t\t\t\t<PixelitButtonWrapper>\r\n\t\t\t\t\t\t\t\t<button disabled={false} className=\"pixelizer\" onClick={pixelizerClicked}>Pixel it!</button>\r\n\t\t\t\t\t\t</PixelitButtonWrapper>\r\n\t\t\t\t</Wrapper>\r\n\t\t)\r\n}\r\n\r\nexport default Pixelizer;\r\n\r\nconst Wrapper = styled.div `\r\n\twidth: 100%;\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\talign-items: center;\r\n\tvisibility: ${props => props.isHidden\r\n\t\t? `hidden`\r\n\t\t: `visible`}\r\n`;\r\n\r\nconst PixelitButtonWrapper = styled(ButtonWrapper)`\r\nbutton {\r\n\theight: 4rem;\r\n}`;","export const PIXELIZER_ACTIVATED = 'MODULES/PIXELIZER/PIXELIZER_ACTIVATED';\r\nexport const UPDATE_RENDER_TYPE = 'MODULES/PIXELIZER/UPDATE_RENDER_TYPE';\r\nexport const UPDATE_RENDER_PARAMS = 'MODULES/PIXELIZER/UPDATE_RENDER_PARAMS';\r\n/**\r\n * Calls action when a valid photo was uploaded\r\n */\r\nexport const handlePixelizerActivated = photoDetails => ({\r\n    type: PIXELIZER_ACTIVATED\r\n});\r\n\r\nexport const updateRenderType = newType => ({\r\n    type: UPDATE_RENDER_TYPE,\r\n    payload: newType\r\n});","import {connect} from 'react-redux';\r\nimport Pixelizer from './Pixelizer';\r\nimport {handlePixelizerActivated} from '../data/actions';\r\n\r\nconst mapStateToProps = (state) => ({});\r\n\r\nconst mapDispatchToProps = ({\r\n    pixelizerClicked: handlePixelizerActivated\r\n});\r\n\r\nconst PixelizerContainer = connect(\r\n    mapStateToProps,\r\n    mapDispatchToProps\r\n)(Pixelizer);\r\n\r\nexport default PixelizerContainer;","import React from 'react';\r\nimport styled from \"styled-components\";\r\n\r\nconst OriginalImage = (props) => {\r\n    const {src} = props;\r\n\r\n    return (\r\n        <ImageWrapper id={'photo-input'}>\r\n            <Image src={src}/>\r\n        </ImageWrapper>\r\n    )\r\n}\r\n\r\nexport default OriginalImage;\r\n\r\nconst ImageWrapper = styled.div.attrs(props => ({\r\n    id: props.id,\r\n    style: {\r\n        height: `${props.theme.imageMeasures.height}px`,\r\n        width: `${props.theme.sliderPosition}px`,\r\n        transition: props.theme.transition,\r\n        position: `absolute`,\r\n        top: 0,\r\n        left: 0,\r\n        overflow: `hidden`,\r\n        zIndex: 1\r\n    },\r\n  }))``;\r\n  \r\nconst Image = styled.img `\r\n    height: 100%;\r\n`;","import React from 'react';\r\nimport styled from \"styled-components\";\r\n\r\nconst Slider = (props) => {\r\n    const {onMouseDown, forwardRef} = props;\r\n    return (\r\n        <SliderWrapper\r\n            draggable\r\n            onDragStart={e => e.preventDefault()}\r\n            onMouseDown={onMouseDown}\r\n            ref={forwardRef}\r\n           >\r\n            <TopSeperator/>\r\n            <Arrow/>\r\n            <BottomSeperator/>\r\n        </SliderWrapper>\r\n    )\r\n}\r\n\r\nexport default Slider;\r\n\r\nconst SliderWrapper = styled.span.attrs(props => ({\r\n    style: {\r\n        height: `${props.theme.imageMeasures.height}px`,\r\n        width: `${props.theme.slider.arrowSize}px`,\r\n        position: `absolute`,\r\n        top: 0,\r\n        left: `${props.theme.sliderPosition-props.theme.slider.arrowSize/2}px`,\r\n        cursor:` col-resize`,\r\n        zIndex: 2\r\n    },\r\n  }))``;\r\n\r\nconst Arrow = styled.span `\r\n    height: ${({theme}) => theme.slider.arrowSize}px;\r\n    width: 100%;\r\n    border: ${({theme}) => theme.slider.borderSize}px solid white;\r\n    position: absolute;\r\n    top: ${({theme}) => theme.imageMeasures.height/2-theme.slider.arrowSize/2}px; /* offset between two elements*/\r\n    left: 0;\r\n    transform: rotate(45deg);\r\n`;\r\nconst TopSeperator = styled.div `\r\n    width: ${({theme}) => theme.slider.borderSize}px;\r\n    background-color: white;\r\n    height: ${({theme}) => theme.imageMeasures.height/2-theme.slider.sliderHypotenuse/2}px;\r\n    left: ${({theme}) => theme.slider.separatorLeft}px;\r\n    position: absolute;\r\n    top: 0;\r\n`;\r\nconst BottomSeperator = styled(TopSeperator)`\r\n    top: unset;\r\n    bottom: 0;\r\n`;","export const RENDER_TYPE = {\r\n    DEFAULT: 'PHOTO_VIEW',\r\n    PIXELED: 'PIXELED'\r\n};","const DEFAULT_PIXEL_SIZE = 25;\r\nclass Pixel {\r\n    constructor(size, x, y, color) {\r\n        this.height = size;\r\n        this.width = size;\r\n        this.color = color;\r\n        this.x = x;\r\n        this.y = y;\r\n    }\r\n\r\n    draw(ctx) {\r\n        ctx.beginPath()\r\n        ctx.fillStyle = this.color;\r\n        ctx.fillRect(this.x, this.y, this.width, this.height);\r\n        ctx.stroke();\r\n    }\r\n};\r\n\r\nexport class PixeledImage {\r\n\r\n    constructor(bitmapImg = null, height = 0, width = 0, ctx = null) {\r\n        this.bitmapImg = bitmapImg;\r\n        this.width = width;\r\n        this.height = height;\r\n        this.pixelSize = DEFAULT_PIXEL_SIZE;\r\n        if (bitmapImg && height && width && ctx) {\r\n             createImageBitmap(bitmapImg, {\r\n                resizeHeight: height,\r\n                resizeWidth: width,\r\n                resizeQuality: 'high'\r\n            }).then(resizedImage => {\r\n                this.imageData = ctx.getImageData(0, 0, resizedImage.width, resizedImage.height);\r\n            });\r\n        }\r\n    }\r\n\r\n    renderPixeledImage(ctx, {pixelSize}, canvasWidth, canvasHeight) {\r\n        if (pixelSize && pixelSize !== this.pixelSize) {\r\n            this.pixelSize = pixelSize;\r\n        };\r\n        if (this.imageData) {\r\n            const pixelsArray = this.getImagePixelizedArray();\r\n            this.drawPixeledImagefromArray(ctx, pixelsArray, canvasWidth, canvasHeight);\r\n        }\r\n    }\r\n\r\n    getImagePixelizedArray = () => {\r\n        let x,\r\n            y,\r\n            pixelizedImg = [];\r\n        // Looping imageData in pixelSize chunks\r\n        for (x = 0; x < this.width; x += this.pixelSize) {\r\n            let newColumn = []\r\n            for (y = 0; y < this.height; y += this.pixelSize) {\r\n                let pixel = this.calculatePixel(x, y);\r\n                newColumn.push(pixel);\r\n            }\r\n            pixelizedImg.push(newColumn);\r\n        }\r\n        return pixelizedImg;\r\n\r\n    };\r\n\r\n    calculatePixel = (x, y) => {\r\n        let i,\r\n            j,\r\n            pixelColor = {\r\n                red: 0,\r\n                green: 0,\r\n                blue: 0,\r\n                alpha: 0\r\n            }\r\n        for (i = 0; i < this.pixelSize; ++i) {\r\n            for (j = 0; j < this.pixelSize; ++j) {\r\n                pixelColor.red += this.imageData.data[((this.width * y) + x) * 4]\r\n                pixelColor.green += this.imageData.data[((this.width * y) + x) * 4 + 1]\r\n                pixelColor.blue += this.imageData.data[((this.width * y) + x) * 4 + 2]\r\n                pixelColor.alpha += this.imageData.data[((this.width * y) + x) * 4 + 3]\r\n            }\r\n        }\r\n        pixelColor.red = pixelColor.red / Math.pow(this.pixelSize, 2)\r\n        pixelColor.green = pixelColor.green / Math.pow(this.pixelSize, 2)\r\n        pixelColor.blue = pixelColor.blue / Math.pow(this.pixelSize, 2)\r\n        pixelColor.alpha = pixelColor.alpha / Math.pow(this.pixelSize, 2)\r\n        pixelColor = `rgba(${pixelColor.red},${pixelColor.green},${pixelColor.blue},${pixelColor.alpha})`\r\n        return new Pixel(this.pixelSize, x, y, pixelColor)\r\n    };\r\n\r\n    drawPixeledImagefromArray = (ctx, pixeledArray) => {\r\n        ctx.clearRect(0, 0, this.width, this.height);\r\n        pixeledArray.forEach((column) => {\r\n            column.forEach((pixel) => {\r\n                pixel.draw(ctx);\r\n            })\r\n        });\r\n    };\r\n};","import {RENDER_TYPE} from '../../../Pixelizer/data/constants';\r\nimport {PixeledImage} from './pixelizedViewService';\r\n\r\nlet ctx = null;\r\nlet canvasElement = null;\r\nlet currentPixeledImage = null;\r\n\r\nexport const init = canvasEl => {\r\n    canvasElement = canvasEl;\r\n    ctx = canvasEl.getContext('2d');\r\n};\r\n\r\nexport const renderImage = (imageMeasures, bitmapImg, renderConfig) => {\r\n    const {renderType, renderParams} = renderConfig;\r\n    const {height, width} = imageMeasures;\r\n    switch (renderType) {\r\n        case RENDER_TYPE.PIXELED:\r\n            if (currentPixeledImage) {\r\n                currentPixeledImage.renderPixeledImage(ctx, renderParams);\r\n            }\r\n            break;\r\n        case RENDER_TYPE.DEFAULT:\r\n        default:\r\n            canvasElement.height = height;\r\n            canvasElement.width = width;\r\n            ctx.clearRect(0, 0, canvasElement.width, canvasElement.height);\r\n            ctx.drawImage(bitmapImg, 0, 0, width, height);\r\n            currentPixeledImage = new PixeledImage(bitmapImg, height, width, ctx);\r\n    }\r\n};\r\n\r\nexport const getDisplayedImageSize = (bitmapImg, canvasHeight, canvasWidth) => {\r\n    const {width, height} = bitmapImg;\r\n    const isPortaitOrientation = height >= width;\r\n\r\n    const scaledImageHeight = parseInt((canvasWidth / width) * height);\r\n    const scaledimageWidth = parseInt((canvasHeight / height) * width);\r\n\r\n    const calculatedPortraitSize = {\r\n        height: canvasHeight,\r\n        width: scaledimageWidth\r\n    }\r\n\r\n    const calculatedLandscapeSize = {\r\n        height: scaledImageHeight,\r\n        width: canvasWidth\r\n    }\r\n\r\n    if (isPortaitOrientation && scaledimageWidth > canvasWidth) {\r\n        return calculatedLandscapeSize;\r\n    }\r\n\r\n    if (!isPortaitOrientation && scaledImageHeight > canvasHeight) {\r\n        return calculatedPortraitSize;\r\n    }\r\n    return (isPortaitOrientation && calculatedPortraitSize) || calculatedLandscapeSize;\r\n}","const SLIDER_ARROW_SIZE = 20;\r\nconst SLIDER_BORDER_SIZE = 1;\r\nconst SLIDER_HYPOTENUSE = Math.sqrt(Math.pow(SLIDER_ARROW_SIZE, 2) * 2);\r\n\r\nexport const theme = {\r\n    imageMeasures: {\r\n        height: 0,\r\n        width: 0\r\n    },\r\n    slider: {\r\n        arrowSize: SLIDER_ARROW_SIZE,\r\n        borderSize: SLIDER_BORDER_SIZE,\r\n        sliderHypotenuse: SLIDER_HYPOTENUSE,\r\n        separatorLeft: SLIDER_ARROW_SIZE/2 - SLIDER_BORDER_SIZE/2\r\n    },\r\n    transition: null,\r\n    backgroundGradientLight: '#603675',\r\n    backgroundGradientDark: '#0C070F',\r\n    logoColor: '#A14ACB',\r\n    buttonColor: '#5f1782',\r\n    borderColor: '#280a37'\r\n};","import React from 'react';\r\nimport styled from \"styled-components\";\r\nimport PhotoUploader from \"../../UploaderView/components/PhotoUploaderContainer\";\r\n\r\nconst ImageTitleBar = (props) => {\r\nconst {name} = props;\r\n    return (\r\n        <Wrapper>\r\n            <ActionWrapper>\r\n                <span>{name}</span>\r\n            </ActionWrapper>\r\n            <ActionWrapper>\r\n                <PhotoUploader hideUploaderButton={true}/>\r\n            </ActionWrapper>\r\n        </Wrapper>\r\n    )\r\n};\r\nexport default ImageTitleBar;\r\n\r\nconst Wrapper = styled.div `\r\n    width: 100%;\r\n    color: white;\r\n    display: flex;\r\n    justify-content: center;\r\n    margin-bottom: 10px;\r\n`;\r\n\r\nconst ActionWrapper = styled.div `\r\n    display: flex;\r\n    align-items: center; \r\n    height: 25px;\r\n    font-size: 15px;\r\n    \r\n    &:first-child {\r\n        padding-right: 25px;\r\n        border-right: 1px solid ${({theme}) => theme.logoColor};\r\n        span {\r\n            opacity: 0.32;\r\n        }\r\n    }\r\n    &:not(:first-child) {\r\n        padding-left: 25px;\r\n    }\r\n    ${({onClick}) => onClick ? `cursor: pointer;` : ``}\r\n`;","import React, {useRef, useState, useEffect} from 'react';\r\nimport styled from \"styled-components\";\r\nimport Pixelizer from \"../../Pixelizer/components/PixelizerContainer\";\r\nimport OriginalImage from \"./OriginalImage\";\r\nimport Slider from \"./Slider\";\r\nimport * as canvasService from './viewerRenderServices/canvasService';\r\nimport {theme} from \"../../common/theme\";\r\nimport ImageTitleBar from \"./ImageTitleBar\";\r\n\r\nconst PhotoViewer = (props) => {\r\n\t\t\t\tconst {file, name, showSlider, renderConfig} = props;\r\n\t\t\t\tconst canvasRef = useRef(null);\r\n\t\t\t\tconst sliderRef = useRef(null);\r\n\t\t\t\tconst [canvasElement,\r\n\t\t\t\t\t\t\t\tsetCanvasElement] = useState(null);\r\n\t\t\t\tconst [imageSource,\r\n\t\t\t\t\t\t\t\tsetImageSource] = useState(null);\r\n\t\t\t\tconst [showLoader,\r\n\t\t\t\t\t\t\t\tsetShowLoader] = useState(false);\r\n\t\t\t\tconst [sliderPosition,\r\n\t\t\t\t\t\t\t\tsetSliderPosition] = useState(0);\t\t\r\n    \t\t\tconst [isMouseDown,\r\n\t\t\t\t\t\t\t\tsetIsMouseDown] = useState(false);\r\n\t\t\t\tconst [transitionTimer, setTransitionTimer] = useState(null);\r\n\t\t\t\tconst transitionTime = 100;\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\tuseEffect(() => {\r\n\t\t\t\t\t\t\t\tconst {current} = canvasRef;\r\n\t\t\t\t\t\t\t\tsetCanvasElement(current);\r\n\t\t\t\t\t\t\t\tcanvasService.init(current);\r\n\t\t\t\t}, [canvasRef]);\r\n\r\n\t\t\t\tuseEffect(() => {\r\n\t\t\t\t\ttheme.imageMeasures.width = theme.imageMeasures.height = null;\r\n\t\t\t\t\trenderImage();\r\n\t\t\t\t}, [file]);\r\n\r\n\t\t\t\tuseEffect(() => {\r\n\t\t\t\t\trenderImage();\r\n\t\t\t\t}, [renderConfig, canvasElement]);\r\n\r\n\t\t\t\tuseEffect(() => {\r\n\t\t\t\t\t\t\t\ttheme.sliderPosition = sliderPosition;\r\n\t\t\t\t}, [sliderPosition]);\r\n\r\n\t\t\t\tuseEffect(() => {\r\n\t\t\t\t\treturn () => {\r\n\t\t\t\t\t\t// Clean up timeout\r\n\t\t\t\t\t\twindow.clearTimeout(transitionTimer);\r\n\t\t\t\t\t}\r\n\t\t\t\t}, [transitionTimer]);\r\n\r\n\t\t\t\tconst renderImage = () => {\r\n\t\t\t\t\tif (file && canvasElement) {\r\n\t\t\t\t\t\tsetShowLoader(true);\r\n\t\t\t\t\t\tcreateImageBitmap(file).then(bitmapImg => {\r\n\t\t\t\t\t\t\t\t\t\tconst {offsetHeight, offsetWidth} = canvasElement.parentElement;\r\n\t\t\t\t\t\t\t\t\t\tconst imageMeasures = canvasService.getDisplayedImageSize(bitmapImg, offsetHeight, offsetWidth);\r\n\t\t\t\t\t\t\t\t\t\ttheme.imageMeasures = imageMeasures;\r\n\t\t\t\t\t\t\t\t\t\tcanvasService.renderImage(imageMeasures, bitmapImg, renderConfig);\r\n\t\t\t\t\t\t\t\t\t\tgetImageProps();\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\t\t\t\t\r\n\t\t\t\tconst getImageProps = () => {\r\n\t\t\t\t\t\t\t\tvar reader = new FileReader();\r\n\t\t\t\t\t\t\t\treader.readAsDataURL(file);\r\n\t\t\t\t\t\t\t\treader.onload = e => {\r\n\t\t\t\t\t\t\t\t\t\t\t\tif (e.target.result !== imageSource) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetImageSource(e.target.result);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetSliderPosition(0);\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\tsetShowLoader(false);\r\n\t\t\t\t\t\t\t\t};\r\n\t\t\t\t}\r\n\r\n\t\t\t\tconst updateSilderPosition = (e, transition) => {\r\n\t\t\t\t\tconst currentX = e.pageX - canvasElement.getBoundingClientRect().left;\r\n\t\t\t\t\tconst moveTo = inBetween(currentX, 0, theme.imageMeasures.width);\r\n\t\t\t\t\tsetSliderPosition(moveTo);\r\n\t\t\t\t\ttransition && setSliderTransition(transition);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tconst inBetween = (actual, min, max) => {\r\n\t\t\t\t\tif (actual < min) {\r\n\t\t\t\t\t\treturn min;\r\n\t\t\t\t\t  }\r\n\t\t\t\t\tif (actual > max) {\r\n\t\t\t\t\treturn max;\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn actual;\r\n\t\t\t\t};\r\n\t\t\t\t\r\n\t\t\t\tconst setSliderTransition = (transition) => {\r\n\t\t\t\t\ttheme.transition = `width ${transitionTime}ms`;\r\n\t\t\t\t\tsetTransitionTimer(window.setTimeout(() => {\r\n\t\t\t\t\t\ttheme.transition = null;\r\n\t\t\t\t\t\tsetTransitionTimer(null); //TODO: take care of clearing transitionTimer on unmount\r\n\t\t\t\t\t  }, transitionTime));\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tconst startDrag = (e) => {\r\n\t\t\t\t\tif (!isMouseDown) {\r\n\t\t\t\t\t\t setIsMouseDown(true);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t};\r\n\r\n\t\t\t\tconst stopDrag = (e) => {\r\n\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\tif (isMouseDown) {\r\n\t\t\t\t\t\tsetIsMouseDown(false)\r\n\t\t\t\t\t};\r\n\t\t\t\t};\r\n\r\n\t\t\t\tconst onDrag = (e, transition) => {\r\n\t\t\t\t\tif (isMouseDown) {\r\n\t\t\t\t\t\tupdateSilderPosition(e, transition);\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\r\n\t\t\t\tconst shouldResumeDrag = (e) => {\r\n\t\t\t\t\tif (e.buttons !== 1) {\r\n\t\t\t\t\t\tstopDrag(e);\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\r\n\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t<Wrapper>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<ImageTitleBar name={name}/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{showLoader && <Loader>loading...</Loader>}\r\n\t\t\t\t\t\t\t\t\t\t\t\t<ViewerFlexWrapper\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tshowContent={!showLoader}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonMouseUp={stopDrag}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonMouseEnter={shouldResumeDrag}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonMouseMove={(e) => onDrag(e, true)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ViewerSizeWrapper>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{showSlider && <Slider onMouseDown={startDrag} forwardRef={sliderRef}/>}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<OriginalImage src={imageSource}/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<canvas ref={canvasRef} id={'pixelized-output'} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</ViewerSizeWrapper>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</ViewerFlexWrapper>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Pixelizer isHidden={!file}/>\r\n\t\t\t\t\t\t\t\t</Wrapper>\r\n\t\t\t\t)\r\n}\r\n\r\nexport default PhotoViewer;\r\n\r\nconst Wrapper = styled.div `\r\ndisplay: flex;\r\nflex-direction: column;\r\nalign-items: center;\r\nflex: 1;\r\nwidth: 70%;\r\n`;\r\n\r\nconst ViewerFlexWrapper = styled.div `\r\n\tflex: 1;\r\n\theight: 100%;\r\n\twidth: 100%;\r\n\tdisplay: flex;\r\n\tjustify-content: center;\r\n\talign-items: center;\r\n\tvisibility: ${props => props.showContent\r\n\t\t\t\t? 'visible'\r\n\t\t\t\t: 'hidden'};\r\n\tcanvas {\r\n\t\tposition: absolute;\r\n\t\ttop: 0;\r\n\t}\r\n`;\r\n\r\nconst ViewerSizeWrapper = styled.div `\r\n    width: ${({theme}) => theme.imageMeasures.width ? `${theme.imageMeasures.width}px` : `100%`};\r\n    height: ${({theme}) => theme.imageMeasures.height ? `${theme.imageMeasures.height}px` : `100%`};\r\n\tposition: relative;\r\n`;\r\n\r\nconst Loader = styled.div `\r\n\tcolor:white;\r\n\tfont-size:24px;\r\n`;","const get = state => state.renderConfig;\r\n\r\nexport const getRenderConfig = state => get(state);","import * as selectors from \"./selectors\";\r\nimport {RENDER_TYPE} from \"./constants\";\r\n\r\nexport const getShowSlider = state => {\r\n    const {renderType} = selectors.getRenderConfig(state);\r\n    return renderType !== RENDER_TYPE.DEFAULT;\r\n};","import {connect} from 'react-redux';\r\nimport PhotoViewer from './PhotoViewer';\r\nimport {getPhotoName, getPhotoFile} from '../data/selectors';\r\nimport {getRenderConfig} from '../../Pixelizer/data/selectors';\r\nimport {getShowSlider} from '../../Pixelizer/data/computedSelectors';\r\n\r\nconst mapStateToProps = (state) => ({\r\n    name: getPhotoName(state),\r\n    file: getPhotoFile(state),\r\n    renderConfig: getRenderConfig(state),\r\n    showSlider: getShowSlider(state)\r\n});\r\n\r\nconst mapDispatchToProps = ({\r\n});\r\n\r\nconst PhotoViewerContainer = connect(\r\n    mapStateToProps,\r\n    mapDispatchToProps\r\n)(PhotoViewer);\r\n\r\nexport default PhotoViewerContainer;\r\n\r\n\r\n\r\n\r\n","import React, {useEffect} from 'react';\r\nimport styled from 'styled-components';\r\n\r\nexport const Toaster = (props) => {\r\n    const {message, dismissToaster} = props;\r\n\r\n    useEffect(() => {\r\n        window.alert(message);\r\n        dismissToaster();\r\n    }, [message]);\r\n\r\n    return (\r\n        <Backdrop/>\r\n    )\r\n}\r\n\r\nconst Backdrop = styled.div `\r\n    position: absolute;\r\n    top: 0;\r\n    bottom: 0;\r\n    left: 0;\r\n    right: 0;\r\n    background: rgba(0,0,0,0.5);\r\n`;\r\n","import React from 'react';\r\nimport styled, {ThemeProvider} from \"styled-components\";\r\nimport Header from \"../../Header/Header\";\r\nimport PhotoUploader from \"../../UploaderView/components/PhotoUploaderContainer\";\r\nimport PhotoViewer from \"../../ImageView/components/PhotoViewerContainer\";\r\nimport {Toaster} from \"./Toaster\";\r\nimport {theme} from \"../../common/theme\";\r\n\r\nconst App = (props) => {\r\n  const {\r\n    showToaster,\r\n    toasterMessage,\r\n    dismissToaster,\r\n    displayUploader\r\n  } = props;\r\n  return (\r\n    <ThemeProvider theme={theme}>\r\n      <AppWrapper>\r\n      <Header/>\r\n      {displayUploader ?  <PhotoUploader/> : <PhotoViewer/>}\r\n      {showToaster && <Toaster message={toasterMessage} dismissToaster={dismissToaster}/>}\r\n    </AppWrapper>\r\n    </ThemeProvider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n\r\nconst AppWrapper = styled.div `\r\n    background: ${({theme}) => `transparent linear-gradient(201deg, ${theme.backgroundGradientLight} 0%, ${theme.backgroundGradientDark} 100%) 0% 0% no-repeat padding-box`};\r\n    height: 100vh;\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n`;","const get = state => state.app;\r\n\r\nexport const getShowToaster = state => get(state).showToaster;\r\nexport const getToasterMessage = state => get(state).toasterMessage;\r\nexport const getShouldDisplayUploader = state => get(state).displayUploader;","import {connect} from 'react-redux';\r\nimport App from \"./App\";\r\nimport {getShowToaster, getToasterMessage, getShouldDisplayUploader} from \"../data/selectors\";\r\nimport {dismissToaster} from \"../data/actions\";\r\n\r\nconst mapStateToProps = (state) => ({\r\n    showToaster: getShowToaster(state), \r\n    toasterMessage: getToasterMessage(state),\r\n    displayUploader: getShouldDisplayUploader(state)\r\n});\r\n\r\nconst mapDispatchToProps = ({\r\n    dismissToaster\r\n});\r\n\r\nconst AppContainer = connect(\r\n    mapStateToProps,\r\n    mapDispatchToProps\r\n)(App);\r\n\r\nexport default AppContainer;","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read http://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import * as actions from './actions';\r\nimport * as appActions from \"../../App/data/actions\";\r\n\r\nconst defaultState = {\r\n    file: null,\r\n    name: ''\r\n}\r\n\r\nexport const file = (state = defaultState, action) => {\r\n    switch (action.type) {\r\n        case actions.HANDLE_PHOTO_UPLOADED:\r\n            return {\r\n                ...state,\r\n                file: action.payload,\r\n                name: action.payload.name || defaultState.name\r\n            }\r\n        case appActions.DISMISS_TOASTER:\r\n            return {\r\n                ...state\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport default file;","import * as actions from \"./actions\";\r\nimport * as ImageViewActions from \"../../ImageView/data/actions\";\r\n\r\nconst defaultState = {\r\n    showToaster: false,\r\n    toasterMessage: '',\r\n    displayUploader: true\r\n};\r\n\r\nexport const appReducer = (state = defaultState, action) => {\r\n    switch (action.type) {\r\n        case actions.SHOW_TOASTER:\r\n            const toasterMessage = action.payload;\r\n            return {\r\n                ...state,\r\n                showToaster: true,\r\n                toasterMessage\r\n            };\r\n        case actions.DISMISS_TOASTER:\r\n            return {\r\n                ...state,\r\n                showToaster: false,\r\n                toasterMessage: ''\r\n            }\r\n        case ImageViewActions.HANDLE_PHOTO_UPLOADED:\r\n            return {\r\n                ...state,\r\n                displayUploader: false\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n};","import * as actions from './actions';\r\nimport * as photoViewerActions from '../../ImageView/data/actions';\r\nimport {RENDER_TYPE} from './constants';\r\n\r\nconst defaultState = {\r\n    renderType: RENDER_TYPE.DEFAULT,\r\n    renderParams: {}\r\n}\r\n\r\nexport const renderConfig = (state = defaultState, action) => {\r\n    switch (action.type) {\r\n        case photoViewerActions.HANDLE_PHOTO_UPLOADED:\r\n            return defaultState;\r\n        case actions.UPDATE_RENDER_TYPE:\r\n            return {\r\n                ...state,\r\n                renderType: action.payload\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport default renderConfig;","import { combineReducers } from \"redux\";\r\nimport photoDetailsReducer from '../modules/ImageView/data/reducer';\r\nimport {appReducer} from \"../modules/App/data/reducer\";\r\nimport {renderConfig} from \"../modules/Pixelizer/data/reducer\";\r\n\r\n/**\r\n * defining the state root reducer\r\n * here we will map all the reducers from the modules\r\n */\r\nexport default combineReducers({\r\n    app: appReducer,\r\n    uploadedPhoto: photoDetailsReducer,\r\n    renderConfig: renderConfig\r\n});\r\n\r\n","import {all, select, put, takeLatest} from 'redux-saga/effects'\r\nimport * as pixelizerActions from './actions';\r\nimport {getRenderConfig} from './selectors';\r\nimport {RENDER_TYPE} from './constants';\r\n\r\nfunction * handlePixerlizerActivated(action) {\r\n    const {renderType: type} = yield select(getRenderConfig);\r\n    // yield console.log(type === RENDER_TYPE.DEFAULT); if not pixeled already\r\n    if (type === RENDER_TYPE.DEFAULT) {\r\n        // set initial pixelizer configs\r\n        yield put(pixelizerActions.updateRenderType(RENDER_TYPE.PIXELED));\r\n    } else {\r\n        // set current pixelizer configs\r\n        yield put(pixelizerActions.updateRenderType(type));\r\n    }\r\n};\r\n\r\nexport default function * saga() {\r\n    yield all([takeLatest(pixelizerActions.PIXELIZER_ACTIVATED, handlePixerlizerActivated)]);\r\n}","import {all} from 'redux-saga/effects';\r\nimport pixelizerSaga from '../modules/Pixelizer/data/saga';\r\n\r\n/**\r\n * main saga file\r\n */\r\nexport default function* saga() {\r\n    yield all([\r\n        pixelizerSaga()\r\n    ]);\r\n}\r\n\r\n","import {createStore, applyMiddleware,compose} from \"redux\";\r\nimport createSagaMiddleware from 'redux-saga';\r\nimport rootReducer from './reducer';\r\nimport rootSaga from './saga';\r\n\r\n// sagaMiddleware controls all the side-effects like fetching data from the server.\r\nconst sagaMiddleware = createSagaMiddleware();\r\n\r\nconst middlewares = [\r\n    // Add other middleware on this line...\r\n    sagaMiddleware,\r\n];\r\n\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose; // add support for Redux dev tools\r\nconst store = createStore(rootReducer, composeEnhancers(\r\n    applyMiddleware(...middlewares)\r\n    )\r\n);\r\n\r\nsagaMiddleware.run(rootSaga);\r\nexport default store;\r\n\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './modules/App/components/AppContainer';\r\nimport * as serviceWorker from './serviceWorker';\r\nimport store from \"./store/store\";\r\nimport Provider from \"react-redux/es/components/Provider\";\r\n\r\nReactDOM.render(\r\n    <Provider store={store}>\r\n        <App />\r\n    </Provider>\r\n    , document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: http://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}